(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{1184:(e,r,t)=>{Promise.resolve().then(t.bind(t,886))},3958:(e,r,t)=>{"use strict";t.d(r,{A:()=>n});var o=t(5155);t(2115);var i=t(1536),s=t(7058),l=t(8055);function n(e){let{videoUrl:r,title:t,description:n,createdAt:a,onToggleFavorite:c,isFavorite:d,videoId:u,selectedList:p,reloadList:b}=e,f=r.includes("youtube.com/watch"),h=r.includes("youtu.be/"),v=r.includes("instagram.com/p"),y=r.includes("tiktok.com/"),m=f?r.split("v=")[1]:null,g=h?r.split("/").pop().split("?")[0]:null,x=v?r:null,j=y?"https://www.tiktok.com/embed/".concat(r.split("/video/")[1]):null,w=async()=>{if(!p){alert("No se seleccion\xf3 ninguna lista.");return}if(window.confirm("\xbfEst\xe1s seguro de que deseas eliminar este video?"))try{let e=(0,s.H9)(l.db,"userSaves",l.j.currentUser.uid,"lists",p);await (0,s.mZ)(e,{videos:(0,s.C3)({url:r,title:t,description:n,createdAt:a})}),alert("\xa1Video eliminado correctamente!"),b&&b()}catch(e){console.error("Error al eliminar el video: ",e),alert("Hubo un error al eliminar el video.")}};return(0,o.jsxs)("div",{style:{margin:"20px",position:"relative"},children:[(0,o.jsx)("button",{onClick:c,style:{position:"absolute",top:"10px",right:"50px",background:"transparent",border:"none",cursor:"pointer"},children:d?(0,o.jsx)(i.Mbv,{size:30,color:"red"}):(0,o.jsx)(i.sOK,{size:30,color:"gray"})}),(0,o.jsx)("button",{onClick:w,style:{position:"absolute",top:"10px",right:"10px",background:"transparent",border:"none",cursor:"pointer"},children:(0,o.jsx)(i.RCe,{size:30,color:"red"})}),(0,o.jsx)("h3",{style:{fontSize:"18px",fontWeight:"bold"},children:t}),(0,o.jsx)("p",{children:n}),a&&(0,o.jsxs)("p",{style:{fontSize:"14px",color:"gray",marginTop:"5px"},children:["Fecha de creaci\xf3n: ",new Date(a).toLocaleDateString()]}),f||h?(0,o.jsx)("iframe",{title:"video",src:"https://www.youtube.com/embed/".concat(m||g),width:"100%",height:"315",style:{marginTop:"10px"},frameBorder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}):v?(0,o.jsx)("iframe",{title:"video",src:x,width:"100%",height:"580",style:{marginTop:"10px"},frameBorder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}):y?(0,o.jsx)("iframe",{title:"video",src:j,width:"100%",height:"580",style:{marginTop:"10px"},frameBorder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}):(0,o.jsx)("p",{children:"El enlace no es compatible."})]})}},886:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>c});var o=t(5155),i=t(2115),s=t(8055),l=t(7058),n=t(6046),a=t(3958);function c(){let[e,r]=(0,i.useState)([]),[t,c]=(0,i.useState)([]),[d,u]=(0,i.useState)(""),[p,b]=(0,i.useState)(null),[f,h]=(0,i.useState)([]),[v,y]=(0,i.useState)(!1),m=(0,n.useRouter)(),g=s.j.currentUser;(0,i.useEffect)(()=>{g&&(async()=>{try{let e=(0,l.rJ)(s.db,"userSaves",g.uid,"lists"),r=await (0,l.GG)(e);if(r.empty)c([]);else{let e=r.docs.map(e=>e.id);c(e)}}catch(e){console.error("Error al obtener las listas:",e),b("Hubo un error al cargar las listas.")}})()},[g]),(0,i.useEffect)(()=>{(async()=>{if(d)try{let e=(0,l.H9)(s.db,"userSaves",g.uid,"lists",d),t=await (0,l.x7)(e);if(t.exists()){let e=t.data().videos||[];r(e)}else r([]),b("No se encontraron videos en esta lista.")}catch(e){console.error("Error al obtener los videos:",e),b("Hubo un error al cargar los videos de la lista.")}})()},[d]);let x=async e=>{u(e),(async()=>{if(e)try{let t=(0,l.H9)(s.db,"userSaves",g.uid,"lists",e),o=await (0,l.x7)(t);if(o.exists()){let e=o.data().videos||[];r(e)}else r([]),b("No se encontraron videos en esta lista.")}catch(e){console.error("Error al obtener los videos:",e),b("Hubo un error al cargar los videos de la lista.")}})()};(0,i.useEffect)(()=>{g&&(async()=>{try{let e=(0,l.rJ)(s.db,"userSaves",g.uid,"lists"),r=await (0,l.GG)(e);if(r.empty)c([]);else{let e=r.docs.map(e=>e.id);c(e)}}catch(e){console.error("Error al obtener las listas:",e),b("Hubo un error al cargar las listas.")}})()},[g]);let j=async e=>{let r=(0,l.H9)(s.db,"userSaves",g.uid),t=f.some(r=>r.url===e.url);try{t?(await (0,l.BN)(r,{favorites:(0,l.C3)(e)},{merge:!0}),h(r=>r.filter(r=>r.url!==e.url))):(await (0,l.BN)(r,{favorites:(0,l.hq)(e)},{merge:!0}),h(r=>[...r,e]))}catch(e){console.error("Error al actualizar los favoritos:",e),b("Hubo un error al actualizar los favoritos.")}};return(0,o.jsxs)("div",{style:{padding:"0px"},children:[(0,o.jsxs)("nav",{style:{backgroundColor:"#3498db",padding:"10px 20px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,o.jsx)("div",{style:{color:"white",fontSize:"20px",fontWeight:"bold"},children:"VideoListApp"}),(0,o.jsxs)("div",{className:"mobile-menu",children:[(0,o.jsx)("button",{onClick:()=>y(!v),style:{padding:"10px",background:"none",border:"1px solid white",color:"white",cursor:"pointer"},children:"â˜°"}),v&&(0,o.jsxs)("div",{style:{position:"absolute",top:"50px",right:"20px",backgroundColor:"#3498db",border:"1px solid white",borderRadius:"5px",zIndex:"100"},children:[(0,o.jsx)("button",{onClick:()=>{m.push("/favorites"),y(!1)},style:{display:"block",padding:"10px",color:"white",background:"none",border:"none",cursor:"pointer"},children:"Favorites"}),(0,o.jsx)("button",{onClick:()=>{m.push("/perfil"),y(!1)},style:{display:"block",padding:"10px",color:"white",background:"none",border:"none",cursor:"pointer"},children:"Perfil"}),(0,o.jsx)("button",{onClick:()=>{m.push("/newVideo"),y(!1)},style:{display:"block",padding:"10px",color:"white",background:"none",border:"none",cursor:"pointer"},children:"Nuevo Video"})]})]})]}),(0,o.jsxs)("div",{style:{background:"linear-gradient(to right, #3498db, #2980b9, #1abc9c)",padding:"20px",textAlign:"center",color:"white",marginBottom:"20px"},children:[(0,o.jsx)("h1",{children:"VideoListApp"}),(0,o.jsx)("h2",{style:{fontSize:"20px",color:"#fff"},children:"Lista de Videos"})]}),(0,o.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,o.jsx)("label",{children:"Selecciona una lista para ver los videos:"}),t.length>0?(0,o.jsxs)("select",{onChange:e=>x(e.target.value),value:d,style:{padding:"10px",fontSize:"16px",width:"100%"},children:[(0,o.jsx)("option",{value:"",disabled:!0,children:"Selecciona una lista"}),t.map((e,r)=>(0,o.jsx)("option",{value:e,children:e},r))]}):(0,o.jsx)("p",{children:"No tienes listas creadas."})]}),(0,o.jsx)("div",{style:{marginBottom:"20px"},children:e.length>0?e.map((e,r)=>(0,o.jsx)(a.A,{videoUrl:e.url,title:e.title,createdAt:e.createdAt,description:e.description,onToggleFavorite:()=>j(e),isFavorite:f.some(r=>r.url===e.url),selectedList:d,reloadList:()=>x(d)},r)):(0,o.jsx)("p",{children:"No hay videos en esta lista."})})]})}},8055:(e,r,t)=>{"use strict";t.d(r,{db:()=>a,j:()=>n});var o=t(9904),i=t(399),s=t(7058);let l=(0,o.Wp)({apiKey:"AIzaSyC4VYGXFbVPPVRgAZeIJKMeEn9XTMsS8I4",authDomain:"videolistapp-ddf29.firebaseapp.com",projectId:"videolistapp-ddf29",storageBucket:"videolistapp-ddf29.firebasestorage.app",messagingSenderId:"182081917708",appId:"1:182081917708:web:56ed93e99e732f256eaf29"}),n=(0,i.xI)(l),a=(0,s.aU)(l)},3435:(e,r,t)=>{"use strict";t.d(r,{k5:()=>d});var o=t(2115),i={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},s=o.createContext&&o.createContext(i),l=["attr","size","title"];function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e}).apply(this,arguments)}function a(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function c(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?a(Object(t),!0).forEach(function(r){var o,i;o=r,i=t[r],(o=function(e){var r=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var o=t.call(e,r||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:r+""}(o))in e?Object.defineProperty(e,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[o]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function d(e){return r=>o.createElement(u,n({attr:c({},e.attr)},r),function e(r){return r&&r.map((r,t)=>o.createElement(r.tag,c({key:t},r.attr),e(r.child)))}(e.child))}function u(e){var r=r=>{var t,{attr:i,size:s,title:a}=e,d=function(e,r){if(null==e)return{};var t,o,i=function(e,r){if(null==e)return{};var t={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(r.indexOf(o)>=0)continue;t[o]=e[o]}return t}(e,r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)t=s[o],!(r.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}(e,l),u=s||r.size||"1em";return r.className&&(t=r.className),e.className&&(t=(t?t+" ":"")+e.className),o.createElement("svg",n({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,i,d,{className:t,style:c(c({color:e.color||r.color},r.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),a&&o.createElement("title",null,a),e.children)};return void 0!==s?o.createElement(s.Consumer,null,e=>r(e)):r(i)}}},e=>{var r=r=>e(e.s=r);e.O(0,[992,523,711,984,441,517,358],()=>r(1184)),_N_E=e.O()}]);